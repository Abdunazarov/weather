# Weather App
## Особенности

- **Использование Poetry**: Управление зависимостями проекта с помощью инструментария Poetry для Python.
- **Кэширование на базе Python**: Улучшенная производительность за счет кэширования данных о погоде.
- **Оптимизация запросов**: Сокращение количества обращений к внешним API, благодаря интеллектуальному кэшированию.
- **Структурированный код**: Чистая архитектура и хорошо структурированный код Flask-приложения.

## Начало работы

## Клонирование приложения
```bash
git clone https://github.com/Abdunazarov/weather.git
```

### Предварительные требования

Перед началом работы убедитесь, что у вас установлены `python` и `poetry`.

```sh
pip install poetry
```

### Установка

Для установки зависимостей, миграции данных и запуска проекта выполните следующие команды:

```bash
poetry install
flask db upgrade
flask run
```

## Использование

### Создание пользователя

Чтобы создать нового пользователя, отправьте POST-запрос на `/create-user` с JSON-телом, содержащим `username` и `balance`. (При миграции данных создаются 5 пользователей)

```http
POST /create-user
Content-Type: application/json

{
  "username": "newuser",
  "balance": 10000
}
```

### Обновление баланса

Для обновления баланса пользователя по текущей температуре в городе, отправьте POST-запрос на `/update-balance`.

```http
POST /update-balance
Content-Type: application/json

{
  "userId": 1,
  "city": "Moscow"
}
```

### Удаление пользователя

Чтобы удалить пользователя, отправьте DELETE-запрос на `/delete-user/<id>`.

```http
DELETE /delete-user/1
```
